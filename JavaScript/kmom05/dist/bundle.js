(()=>{const e=document.getElementById("table"),t=document.getElementById("select"),n=["Select year",1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],o=["denmark","norway","sweden"];window.onload=function(){!function(){for(let e=0;e<o.length;e++)fetch(`https://raw.githubusercontent.com/dbwebb-se/js-v2/master/example/co2-json/${o[e]}.json`).then((e=>e.json())).then((function(t){localStorage.setItem(o[e],JSON.stringify(t))})).catch(console.error)}(),t.setAttribute("id","countrySelect"),t.addEventListener("change",(()=>{const t=document.getElementById("countrySelect");"Select Country"!==t.value&&function(t){const n=[];"Select year"!==t&&o.forEach((e=>{for(let o=0;o<JSON.parse(localStorage.getItem(e)).data.length;o++)JSON.parse(localStorage.getItem(e)).data[o].year===Number(t)&&n.push(JSON.parse(localStorage.getItem(e)).data[o])})),function(t){if(0!==t.length){for(let n=0;n<3;n++)if(document.getElementById("remove"+n)){e.removeChild(document.getElementById("remove"+n));const c=document.createElement("tr");c.setAttribute("id","remove"+n);const d=[o[n],t[n].year,t[n].co2,t[n].co2_growth_prct,t[n].co2_per_capita,t[n].population];for(let e=0;e<6;e++){const t=document.createElement("td");t.innerText=d[e],t.setAttribute("id",d[e]),c.append(t)}e.append(c)}else{const c=document.createElement("tr");c.setAttribute("id","remove"+n);const d=[o[n],t[n].year,t[n].co2,t[n].co2_growth_prct,t[n].co2_per_capita,t[n].population];for(let e=0;e<6;e++){const t=document.createElement("td");t.innerText=d[e],t.setAttribute("id",d[e]),c.append(t)}e.append(c)}!function(){const e=[document.getElementById("remove0").childNodes[2].innerText,document.getElementById("remove1").childNodes[2].innerText,document.getElementById("remove2").childNodes[2].innerText],t=[document.getElementById("remove0").childNodes[3].innerText,document.getElementById("remove1").childNodes[3].innerText,document.getElementById("remove2").childNodes[3].innerText],n=[document.getElementById("remove0").childNodes[4].innerText,document.getElementById("remove1").childNodes[4].innerText,document.getElementById("remove2").childNodes[4].innerText];document.getElementById(Math.min(...e)).classList.add("leastValues"),document.getElementById(Math.min(...t)).classList.add("leastValues"),document.getElementById(Math.min(...n)).classList.add("leastValues")}()}}(n)}(t.value)}));for(let e=0;e<n.length;e++){const o=document.createElement("option");o.innerText=n[e],o.setAttribute("value",n[e]),t.append(o)}}})();